{
  "version": 3,
  "sources": ["../src/version.ts", "../node_modules/@sygnal/sse/src/page.ts", "../node_modules/js-cookie/dist/js.cookie.mjs", "../node_modules/@sygnal/sse/src/routeDispatcher.ts", "../node_modules/@sygnal/sse/src/index.ts", "../src/site.ts", "../src/services/booking/timely.ts", "../src/util.ts", "../src/page/services.ts", "../src/page/clinic.ts", "../src/routes.ts", "../src/index.ts"],
  "sourcesContent": ["export const VERSION = \"0.1.3\"; ", null, "/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n", null, null, "\n/*\n * SITE \n * Site-wide Code \n * \n */\n\nimport { IRouteHandler, Page } from \"@sygnal/sse\";\n\n\nexport class Site implements IRouteHandler {\n\n    constructor() {\n    }\n    \n    setup() {\n\n        console.log(\"load scripts\"); \n        Page.loadEngineCSS(\"site.css\"); \n\n    }\n    \n    exec() {\n        \n        Page.loadScript(\"//book.gettimely.com/widget/book-button-v1.5.js\"); \n\n        \n        this.addActionToBookLinks();\n                    \n    }\n\n    // Function to add ?action=book to elements with the [pd-book] attribute\n    addActionToBookLinks(): void {\n        // Select all elements with the [pd-book] attribute\n        const bookElements = document.querySelectorAll('[pd-book]') as NodeListOf<HTMLAnchorElement>;\n    \n        // Iterate over the selected elements\n        bookElements.forEach(element => {\n        const currentHref = element.getAttribute('href');\n        if (currentHref) {\n            // Update the href attribute with the new query parameter\n            element.setAttribute('href', `${currentHref}?action=book`);\n        }\n        });\n    }\n  \n}  \n\n    \n/*\nold code\n\n// Define the lookup table for locales and their corresponding path prefixes\nconst localePaths = {\n    \"en\": \"\", // Assuming \"en\" is the primary locale and has no prefix\n    \"zh\": \"/zh\", // Example for Chinese\n    // Add more locales and their prefixes as needed\n};  \n  \n// Function to determine the current page's locale\nfunction getCurrentLocale() {\n    return document.documentElement.lang || \"en\"; // Default to \"en\" if no lang attribute is found\n}  \n  \n// Function to update the href attributes for links with the custom attribute \"wfu-local-url\"\nfunction updateLinksForLocale() {\n    const currentLocale = getCurrentLocale();\n  \n  console.log(currentLocale)\n  \n    const pathPrefix = localePaths[currentLocale] || \"\"; // Default to empty string if the locale is not found in the lookup table\n    \n   console.log(pathPrefix)\n  \n    // Find all links with the custom attribute \"wfu-local-url\"\n    const links = document.querySelectorAll('a[wfu-locale-url]');\n    \n    links.forEach(link => {\n        // Prepend the pathPrefix to the href attribute, if it's not already there\n        if (!link.href.startsWith(pathPrefix)) {\n            // Ensure to handle absolute URLs correctly\n            // Extract the base URL if the href is absolute, and then prepend the pathPrefix\n            const baseUrl = link.href.replace(window.location.origin, \"\");\n            link.href = `${window.location.origin}${pathPrefix}${baseUrl}`;\n        }\n    });\n}  \n  \n// Call updateLinksForLocale to update links as soon as the script runs\nupdateLinksForLocale();  \n  \n  \n//   $(\"[wfu-query]\").each(function() {\n//     console.log($(this).attr(\"href\"));\n//     const url = new URL($(this).attr(\"href\"),\n//                        window.location.origin\n//                        );\n    \n//     const params = url.searchParams;\n//     const newParams = new URLSearchParams($(this).attr(\"wfu-query\"));\n    \n//     console.log(params.toString());\n//     console.log(newParams.toString());\n    \n//   });\n  \n  \n});\n\n// Google Tag Manager Tracking\n$(\"[wfu-gtm-event]\").click(function() {\n  console.debug('Button clicked - GTM tracking');\n  var data = {\n    'event': $(this).attr('wfu-gtm-event')\n  };\n\n  // Find GTM Event attributes\n  // and add to dataLayer\n  const dataLayerAttrPrefix = \"wfu-gtm-event-\";\n  $.each(this.attributes, function() {\n       console.debug(`attr ${this.name}`); \n    \n     if(this.name.startsWith(dataLayerAttrPrefix)) {\n       var dataLayerVar = this.name.substring(dataLayerAttrPrefix.length);\n       console.debug(`wfu-attr ${dataLayerVar} ${this.value}`); \n       data[dataLayerVar] = this.value;\n      }\n   });\n  \n  dataLayer.push(data);\n  console.log(JSON.stringify(data,null,3));\n  \n});\n*/    ", "import { Page } from \"@sygnal/sse\";\n\n\n\n// declare function timelyButton(company: string, options: object): void;\ndeclare class timelyButton {\n  constructor(company: string, options: object);\n  start(): void;\n}\n\n\nexport class TimelyService {\n\n  account: string;\n  defaultLocationId?: string; // 247844  \n  defaultStaffId?: string;\n  defaultCategoryId?: string;\n  defaultServiceId?: string;\n\n  constructor(account: string) {\n\n    this.account = account; \n\n  }\n  \n  async init() {\n\n    // console.log(\"adding timely script\")\n    // await this.loadTimelyScript(); \n\n// Page.loadScript(\"//book.gettimely.com/widget/book-button-v1.5.js\"); \n\n  }\n\n// <script>new timelyButton(\"ponsonbydoctors\", {\"location\":\"244540\",\"category\":\"397934\",\"product\":\"3250333:SV\",\"staff\":\"424054\",\"style\":\"dark\"});</script>\n\n  bookService(categoryId: string | null, serviceId: string | null) {\n    const bookingButton = new timelyButton(\n      this.account, {\n        location: this.defaultLocationId,\n        staff: this.defaultStaffId, \n        category: categoryId,\n        product: serviceId,\n        dontCreateButton: true\n    });\n\n    bookingButton.start();\n  }\n\n//   static loadTimelyScript(): Promise<void> {\n\n//     // Check to see if it exists? install only if needed? \n\n\n\n//     return new Promise((resolve, reject) => {\n//       const script = document.createElement('script');\n// //      script.src = \"//book.gettimely.com/widget/book-button-v1.3.js\";\n//       script.src = \"//book.gettimely.com/widget/book-button-v1.5.js\";  \n//       script.id = 'timelyScript';\n//       script.onload = () => resolve();\n//       script.onerror = () => reject(new Error(`Failed to load script: ${script.src}`));\n//       document.head.appendChild(script);\n//     });\n//   }\n  \n}\n\n", "\n\n// Utility function to add event listeners to elements\nexport function addEventListeners(selector: string, event: string, handler: (e: Event) => void) {\n    const elements = document.querySelectorAll(selector);\n    elements.forEach(element => {\n      element.addEventListener(event, handler);\n    });\n  }\n\n  \n// Utility Functions\nexport function formatAsNumber(n: number | string): string {\n    if (Number(n) === 0) return \"-\";\n    return String(n);\n}\n  \nexport function formatAsCurrency(n: number | string): string {\n    if (Number(n) === 0) return \"-\";\n    const formatter = new Intl.NumberFormat('en-NZ', { style: 'currency', currency: 'NZD' });\n    return formatter.format(Number(n)) + \" NZD\";\n}\n\nexport function findAncestorWithAttribute(element: HTMLElement, attributeName: string): HTMLElement | null {\n    let currentElement: HTMLElement | null = element;\n\n    while (currentElement) {\n        if (currentElement.hasAttribute(attributeName)) {\n            return currentElement;\n        }\n        currentElement = currentElement.parentElement;\n    }\n\n    return null;\n}\n\nexport function getAncestorAttributeValue(element: HTMLElement, attributeName: string): string | null {\n    let currentElement: HTMLElement | null = element;\n\n    while (currentElement) {\n        if (currentElement.hasAttribute(attributeName)) {\n            return currentElement.getAttribute(attributeName);\n        }\n        currentElement = currentElement.parentElement;\n    }\n\n    return null;\n}\n\nexport function hasAncestorWithAttribute(element: HTMLElement, attributeName: string): boolean {\n    return findAncestorWithAttribute(element, attributeName) !== null;\n}\n\nexport function convertToPixels(value: string, contextElement: HTMLElement = document.documentElement): number {\n    // Parse the numeric value and unit, including negative values\n    const match = value.match(/^(-?\\d+\\.?\\d*)(rem|em|px|vh|vw|%)$/);\n    if (!match) throw new Error('Invalid value format');\n\n    const [, amountStr, unit] = match;\n    const amount = parseFloat(amountStr);\n\n    // Convert based on the unit\n    switch (unit) {\n        case 'px':\n            return amount;\n        case 'rem':\n            return amount * parseFloat(getComputedStyle(document.documentElement).fontSize);\n        case 'em':\n            // For 'em', it's relative to the font-size of the context element.\n            return amount * parseFloat(getComputedStyle(contextElement).fontSize);\n        case 'vh':\n            return amount * window.innerHeight / 100;\n        case 'vw':\n            return amount * window.innerWidth / 100;\n        case '%':\n            // For %, it's relative to the parent element's size. This can be tricky as it depends on the property (width, height, font-size, etc.).\n            // In this example, we'll use it relative to the width of the context element, but you might need to adjust based on your specific use case.\n            return amount * contextElement.clientWidth / 100;\n        default:\n            throw new Error('Unsupported unit');\n    }\n}\n\n\n/*\n// Example usage:\nconst pixelValue = convertToPixels(\"10vh\");\nconsole.log(pixelValue);\n*/\n\n", "\n/*\n * SITE \n * Page | Services \n * \n */\n\nimport { WindowData, Window } from \"../../types/global\";\nimport { TimelyService } from \"../services/booking/timely\";\nimport { addEventListeners } from \"../util\";\nimport { IRouteHandler, Page } from \"@sygnal/sse\";\n\n\ndeclare global {\n    interface Window {\n        data: WindowData;\n    }\n}\n\nexport class ServicesPage implements IRouteHandler {\n\n    timely: TimelyService;\n\n    constructor() {\n\n        this.timely = new TimelyService(\"ponsonbydoctors\"); \n\n    }\n\n    setup() {\n    }\n    \n    exec() {\n\n        // Timely script already loaded at Site level\n\n        if (!window.data) {\n            console.error (\"Window.data is not available.\");\n            return;\n        }\n\n        addEventListeners('*[timely=\"book\"]', 'click', (e: Event) => {\n            const target = e.currentTarget as HTMLElement;\n\n            this.timely.bookService(\n                target.getAttribute('categoryId'), \n                target.getAttribute('serviceId')\n            ); \n        });\n\n        addEventListeners('*[timely=\"ponsonby\"]', 'click', (e: Event) => {\n            const target = e.currentTarget as HTMLElement;\n\n            this.timely.bookService(\n                target.getAttribute('categoryId'), \n                target.getAttribute('serviceId')\n            ); \n        });\n        addEventListeners('*[timely=\"ponsonby-service\"]', 'click', (e: Event) => {\n            const target = e.currentTarget as HTMLElement;\n\n            this.timely.bookService(\n                target.getAttribute('categoryId'), \n                target.getAttribute('serviceId')\n            ); \n        });\n        addEventListeners('*[timely=\"online\"]', 'click', (e: Event) => {\n            const target = e.currentTarget as HTMLElement;\n\n            this.timely.bookService(\n                target.getAttribute('categoryId'), \n                target.getAttribute('serviceId')\n            ); \n        });\n        addEventListeners('*[timely=\"online-service\"]', 'click', (e: Event) => {\n            const target = e.currentTarget as HTMLElement;\n\n            this.timely.bookService(\n                target.getAttribute('categoryId'), \n                target.getAttribute('serviceId')\n            ); \n        });                \n  \n        // Auto-booking based on URL parameter\n        if (window.location.search.includes('action=book')) {\n\n            this.timely.bookService(\n                window.data.timely_categoryId, \n                window.data.timely_productId\n            ); \n\n        }\n\n    }\n\n}  \n\n    \n    \n    \n    ", "\n/*\n * SITE \n * Page | Clinic \n * \n */\n\n// import { TocFix } from \"../tocfix\";\n// import Plyr from 'plyr';\n// // import QRCode from 'qrcode';\n// import { AdjustTrackingUrl } from \"../adjust\";\n// import { AdjustTrackingQr } from \"../adjust-qr\";\nimport { IRouteHandler, Page } from \"@sygnal/sse\";\n\n//const url: string = 'https://www.sygnal.com?thisisatrackingurlthsfdsfsdsdatdoesstuff';\n\n\nexport class ClinicPage implements IRouteHandler {\n\n    constructor() {\n    }\n\n    setup() {\n        \n    }\n    \n    exec() {\n\n        /**\n         * Fix links for the ToC \n         */\n\n        // let tocFix = new TocFix();\n        // tocFix.init(); \n\n//         window['fsAttributes'] = window['fsAttributes'] || [];\n//         window['fsAttributes'].push([\n//           'toc',\n//           (tableInstances) => {\n\n//             tocFix.addToCCloseLinks();\n\n// //            console.log('toc Successfully loaded!');\n//           },\n//         ]);\n\n//         /**\n//          * Wire up components embedded\n//          * in Finsweet PRT RTB's\n//          */\n\n//         window['fsAttributes'] = window['fsAttributes'] || []; \n//         window['fsAttributes'].push([  \n//           'richtext',   \n//           (textInstances) => {   \n\n//             this.initAfterFsPRTLib();\n// //            console.log('richtext Successfully loaded!');      \n//           },   \n//         ]);    \n\n\n        // // Look for all links with a [code] attribute\n        // // and apply it to the link's querystring as ?code=VALUE. \n\n        // // Get all links with the 'code' attribute\n        // const links: NodeListOf<HTMLAnchorElement> = document.querySelectorAll('a[code]');\n\n        // links.forEach((link: HTMLAnchorElement) => {\n        //     // Get the value of the 'code' attribute\n        //     const codeValue: string = link.getAttribute('code') || '';\n\n        //     // Use the URL interface to handle the href\n        //     const url: URL = new URL(link.href);\n            \n        //     // Use URLSearchParams to set the code parameter\n        //     url.searchParams.set('code', codeValue);\n\n        //     // Update the link href\n        //     link.href = url.toString();\n        // });\n                    \n    }\n\n}  \n\n    \n    \n    \n    ", "/*\n * SITE\n * Main entry point\n * \n * https://engine.sygnal.com/\n * \n * ENGINE MODE\n * ?engine.mode=dev\n * ?engine.mode=prod\n * \n */\n\n// import { MaternityScanCalcPage } from \"./page/maternityScanCalc\"; \n// import { HomePage } from \"./page/home\";\nimport { RouteDispatcher } from \"@sygnal/sse\";\n//import { TestWfuIfPage } from \"./page/test-wfu-if\";\nimport { Site } from \"./site\";\nimport { ServicesPage } from \"./page/services\";\nimport { ClinicPage } from \"./page/clinic\";\n\nexport const routeDispatcher = (): RouteDispatcher => {\n    \n    var routeDispatcher = new RouteDispatcher(Site);\n    routeDispatcher.routes = {\n\n        // Site paes\n        '/services/*': ServicesPage,\n        '/clinics/*': ClinicPage, \n\n    };\n//    routeDispatcher.execRoute(); \n\n    return routeDispatcher;\n}\n\n", "/*\n * SITE\n * Main entry point\n * \n */\n\nimport { ClinicPage } from \"./page/clinic\";\nimport { ServicesPage } from \"./page/services\";\n// import { RouteDispatcher } from \"./routeDispatcher\";\nimport { TimelyService } from \"./services/booking/timely\";\nimport { Site } from \"./site\";\nimport { VERSION } from \"./version\";\nimport { routeDispatcher } from \"./routes\";\nimport { initSSE } from \"@sygnal/sse\"; \n\n// Global vars\n//const VERSION = 'v0.1.8';\n\n// Global Site object\n// window['Site'] = window['Site'] || {}; \n// var Site = window['Site'];\n\n\n// declare global {\n//     interface Window {\n//         data: WindowData;\n//     }\n// }\n\n\ninterface SiteGlobalDataType {\n    // Define properties and their types for SiteDataType\n    // For example:\n    // someProperty?: string;\n    // anotherProperty?: number;\n    // Add other properties as needed\n}\n\n\n// Global vars\nconst SITE_NAME: string = 'Site';\n\n// Global object\n// window[SITE_NAME] = window[SITE_NAME] || {}; \n// var SiteData = window[SITE_NAME];\n\n// Extend the Window interface to include globals\n// as a Typescript accessibility convenience\ndeclare global {\n    interface Window {\n\n        // fsAttributes\n        fsAttributes: [string, (filterInstances: any[]) => void][];\n\n        // Site global data\n        Site: SiteGlobalDataType;\n\n    }\n}\n\n// https://codepen.io/memetican/pen/eYrrvxW/e3b373367dec74d2d3f33418c88ac7b3\n// https://codepen.io/memetican/pen/mdvvQjr/d8977b7cbf76dd4344b36b2136205086 \n\n// Init SSE Engine\ninitSSE(); \n\n// Perform setup, sync\nconst setup = () => {\n    \n    console.log(`${SITE_NAME} package init v${VERSION}`);\n    \n    routeDispatcher().setupRoute(); \n\n}\n\n// Perform exec, async\n// After DOM content loaded \nconst exec = () => {\n    \n    routeDispatcher().execRoute(); \n\n}\n\n\n// const init = async() => {\n    \n//     console.log(`%c${SITE_NAME} package init ${VERSION}`, \"color: blue;\");\n//     // console.log(\"%c\uD83D\uDCF6 Signal Site Engine: Initialization complete\", \"color: blue; background: url('https://assets.sygnal.com/https://cdn.prod.website-files.com/59b8d49f7fdf9700017d780f/59b8d57a646143000180fcca_sygnal-logo-small.png') no-repeat left center; padding-left: 20px;\");\n//     // console.log(\"%c\uD83D\uDCF6 Signal Site Engine: Initialization complete\", \"color: blue; background: url('https://assets.sygnal.com/https://cdn.prod.website-files.com/59b8d49f7fdf9700017d780f/59b8d57a646143000180fcca_sygnal-logo-small.png') no-repeat left center; padding-left: 20px;\");\n\n//     (new Site()).init(); \n    \n//     await TimelyService.loadTimelyScript();\n\n//     var routeDispatcher = new RouteDispatcher();\n//     routeDispatcher.routes = {\n//         '/': () => {\n\n//             // No special code\n\n//         },\n//         '/services/*': () => {\n\n//             (new ServicesPage()).init();\n\n//         },\n//         '/clinics/*': () => {\n\n//             (new ClinicPage()).init();\n\n//         },\n\n//     };\n//     routeDispatcher.dispatchRoute(); \n\n// }\n\n // document.addEventListener(\"DOMContentLoaded\", init)\n\n\n\n\n/**\n * Initialize\n */\n\n// Perform setup, sync\nsetup();\n\n// Perform exec, async\nif (document.readyState !== 'loading') {\n    exec();\n} else {\n    document.addEventListener(\"DOMContentLoaded\", exec);\n}"],
  "mappings": "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",
  "names": ["converter", "routeDispatcher"]
}
