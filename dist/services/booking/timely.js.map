{
  "version": 3,
  "sources": ["../../../src/services/booking/timely.ts"],
  "sourcesContent": ["import { Page } from \"@sygnal/sse\";\r\nimport { ScriptElement } from \"@sygnal/sse/dist/script\";\r\n\r\n\r\n\r\n// declare function timelyButton(company: string, options: object): void;\r\ndeclare class timelyButton {\r\n  constructor(company: string, options: object);\r\n  start(): void;\r\n}\r\n\r\n\r\nexport class TimelyService {\r\n\r\n  account: string;\r\n  defaultLocationId?: string; // 247844  \r\n  defaultStaffId?: string;\r\n  defaultCategoryId?: string;\r\n  defaultServiceId?: string;\r\n\r\n  constructor(account: string) {\r\n\r\n    this.account = account; \r\n\r\n  }\r\n  \r\n  async init() {\r\n\r\n    // console.log(\"adding timely script\")\r\n    // await this.loadTimelyScript(); \r\n\r\n    // Page.loadScript(\"//book.gettimely.com/widget/book-button-v1.5.js\"); \r\n    // Page.Head.loadScript(\"//book.gettimely.com/widget/book-button-v1.5.js\", { id: \"timelyScript\" });\r\n\r\n// Page.Body.loadScript()\r\n\r\n    // const timelyScript = new ScriptElement(\"//book.gettimely.com/widget/book-button-v1.5.js\");\r\n    // timelyScript.id = \"timelyScript\";\r\n    // timelyScript.appendTo('head');\r\n\r\n  }\r\n\r\n// <script>new timelyButton(\"ponsonbydoctors\", {\"location\":\"244540\",\"category\":\"397934\",\"product\":\"3250333:SV\",\"staff\":\"424054\",\"style\":\"dark\"});</script>\r\n\r\n  bookService(categoryId: string | null, serviceId: string | null) {\r\n    const bookingButton = new timelyButton(\r\n      this.account, {\r\n        location: this.defaultLocationId,\r\n        staff: this.defaultStaffId, \r\n        category: categoryId,\r\n        product: serviceId,\r\n        dontCreateButton: true\r\n    });\r\n\r\n    bookingButton.start();\r\n  }\r\n\r\n//   static loadTimelyScript(): Promise<void> {\r\n\r\n//     // Check to see if it exists? install only if needed? \r\n\r\n\r\n\r\n//     return new Promise((resolve, reject) => {\r\n//       const script = document.createElement('script');\r\n// //      script.src = \"//book.gettimely.com/widget/book-button-v1.3.js\";\r\n//       script.src = \"//book.gettimely.com/widget/book-button-v1.5.js\";  \r\n//       script.id = 'timelyScript';\r\n//       script.onload = () => resolve();\r\n//       script.onerror = () => reject(new Error(`Failed to load script: ${script.src}`));\r\n//       document.head.appendChild(script);\r\n//     });\r\n//   }\r\n  \r\n}\r\n\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAYO,MAAM,gBAAN,MAAoB;AAAA,IAQzB,YAAY,SAAiB;AAE3B,WAAK,UAAU;AAAA,IAEjB;AAAA,IAEM,OAAO;AAAA;AAAA,MAcb;AAAA;AAAA,IAIA,YAAY,YAA2B,WAA0B;AAC/D,YAAM,gBAAgB,IAAI;AAAA,QACxB,KAAK;AAAA,QAAS;AAAA,UACZ,UAAU,KAAK;AAAA,UACf,OAAO,KAAK;AAAA,UACZ,UAAU;AAAA,UACV,SAAS;AAAA,UACT,kBAAkB;AAAA,QACtB;AAAA,MAAC;AAED,oBAAc,MAAM;AAAA,IACtB;AAAA,EAmBF;",
  "names": []
}
